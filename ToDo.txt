To Do:

Game plan for development
Sprites:

Refactor:
-Loading of sprites
-remove nonsprite code

New features:
-change buttons to sprites
-add stop, reverse, decouple stations
-make all stations only work for matching type. When click on pd station to get caption, it should let you just choose first level (e.g. dinosaur) or second level rather than just second.
-add immutable property to tracks, ecs, and cargo so can distinguish level base trx from user drawn, render in different color
-sounds for all stations
-add user types, and show/hide functionality based on user types- trainee=no toolbar locked on draw tracks, etc.

-BLENDER
	-render uppercase, cargoColors, cargoShapes...
	-to draw: square connectors; stop, reverse, decouple station
	-animate stations performing their action: catapult and slignshot cargo moving, slide on off for supply, dump, pickDrop
	
-optimize draw(). It currently redraws everything rather than just what has changed

-SERVER
-setup server for upload and download (store trx as strings in database)
-server- create accounts, login, upload/download trx
-server- keep track of progress of user (trainee, conductor, engineer, etc.)
-server-php script to take uploaded file and put in database
-db tables: users, trx files, user types, courses


-APPS
-convert to iPhone and Droid apps using either PhoneGap (or Titanium)

*Bugs
-rotate supply sprite 90degres so arrow points to car
-drag and drop of trx sometimes shifts it too far (rounding error?) and sometime copies jibberish (if overlaps then it recopies? need to make full copy first)
-balloon caption should disappear when drawing new track over old track
-make selection go away when switch buttons
-while drawing tracks, it makes wyes when shouldn't (e.g make same 90 curve twice and it makes wye, or diagonal plus 90)
-bug if click track to bring up caption and then click car to get caption without first dismissing track caption
-if engine crashes, set cars to zero speed
-don't cause crash to adjacent car in same train (happens with engine in reverse with car attached to front)
-on clear tracks, remove caption bubble
-need to switch wyes after train passes or if switch after engine then ignore switch until train has passed
- doesn't crash but shouold on this trax= trx[]='[[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,{"gridx":3,"gridy":2,"type":"TrackStraight","orientation":2,"state":"left","subtype":""},null,null,null,null,null,null,null],[null,null,{"gridx":4,"gridy":2,"type":"TrackStraight","orientation":2,"state":"left","subtype":""},null,null,null,null,null,null,null],[null,null,{"gridx":5,"gridy":2,"type":"TrackStraight","orientation":2,"state":"left","subtype":""},null,null,null,null,null,null,null],[null,null,{"gridx":6,"gridy":2,"type":"Track90","orientation":6,"state":"left","subtype":""},{"gridx":6,"gridy":3,"type":"Track90","orientation":4,"state":"left","subtype":""},null,null,null,null,null,null],[null,null,{"gridx":7,"gridy":2,"type":"Track90","orientation":0,"state":"left","subtype":""},{"gridx":7,"gridy":3,"type":"Track90","orientation":2,"state":"left","subtype":""},null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],[{"gridx":3,"gridy":2,"type":"EngineBasic","orientation":2,"state":"","speed":20,"position":0.5}],[]]'

*Improvements
-optimize- might be detectingStations every iteration instead of just on entering tile.
-improve prompt switching from popup dialog to clicking on tile
-put dot in middle or in someway highlight which ec the mouse is currently over (hover using mouse move) so you can delete the right ec if near edge of tile
-should add, subt, mult, divide roll over (%) or just max/min out? or put max/min on car and remainder on station
-add zoom and pan- for web
-add undo/redo chain-for web
-need an idiom for storing numbers >10. Like by having different cars for ones,tens, hundreds...
-need a binary cargo type, maybe yes/no
-add faint tick mark to show where inset button would go on TrackStraight

-for gameplay should block 45 degree tracks until user reaches a certain level (if block 45 show square instead of octagon), and block toolbar


*To be sucessful
-gameplay needs to be good (series of trx puzzles that build skills and are fun to figure out)
-needs to be visually appealing. Good graphics and animations
-needs to not be frustrating- no bugs, intuitive interface
-needs to convince parents that it is teaching programing or math or spelling/reading
-needs to fun at wide range of levels and amount of time invested


